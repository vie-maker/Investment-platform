<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Investment Plans | SalticsX</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary: #1890ff;
      --secondary: #52c41a;
      --danger: #ff4d4f;
      --warning: #faad14;
      --vip-gold: #ffc107;
      --dark: #1f1f1f;
      --light: #f8f9fa;
      --dark-bg: #0e0e1b;
      --card-bg: #1a1a2e;
      --text-light: #ffffff;
      --text-dark: #333333;
      --profit-green: #28a745;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: var(--dark-bg);
      color: var(--text-light);
      line-height: 1.6;
    }

    /* Header Styles */
    header {
      background-color: #1a1a2e;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
      padding: 15px 0;
    }

    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .logo i {
      color: var(--vip-gold);
    }

    .nav-links {
      display: flex;
      list-style: none;
    }

    .nav-links li {
      margin-left: 25px;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-light);
      font-weight: 500;
      transition: color 0.3s;
      padding: 5px 0;
      position: relative;
    }

    .nav-links a:hover {
      color: var(--primary);
    }

    .nav-links a:after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      background: var(--primary);
      bottom: 0;
      left: 0;
      transition: width 0.3s;
    }

    .nav-links a:hover:after {
      width: 100%;
    }

    .btn-register {
      background-color: var(--secondary);
      color: white;
      padding: 8px 20px;
      border-radius: 5px;
      font-weight: 600;
      transition: all 0.3s;
    }

    .btn-register:hover {
      background-color: #389e0d;
      transform: translateY(-2px);
    }

    /* Main Content Styles */
    .main-container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .page-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px 0;
    }

    .page-header h1 {
      color: var(--primary);
      font-size: 2.5rem;
      margin-bottom: 10px;
    }

    .page-header p {
      color: #aaa;
      font-size: 1.1rem;
      max-width: 700px;
      margin: 0 auto;
    }

    .hero-image {
      width: 100%;
      max-height: 400px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .plans-container {
      display: flex;
      gap: 30px;
    }

    .main-plans {
      flex: 2;
    }

    .sidebar {
      flex: 1;
    }

    /* Card Styles */
    .card {
      background: var(--card-bg);
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      padding: 25px;
      margin-bottom: 30px;
    }

    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .card-title {
      font-size: 1.5rem;
      color: var(--primary);
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .badge {
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .badge-primary {
      background-color: var(--primary);
      color: white;
    }

    .badge-success {
      background-color: var(--secondary);
      color: white;
    }

    .badge-vip {
      background: linear-gradient(135deg, var(--vip-gold), var(--warning));
      color: var(--dark);
    }

    /* Plan Grid Styles */
    .plan-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
    }

    .plan-card {
      background: #252545;
      border-radius: 8px;
      padding: 20px;
      transition: all 0.3s;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .plan-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      border-color: var(--primary);
    }

    .plan-image {
      width: 100%;
      height: 150px;
      object-fit: cover;
      border-radius: 5px;
      margin-bottom: 15px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .plan-name {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: var(--primary);
    }

    .plan-detail {
      display: flex;
      justify-content: space-between;
      margin-bottom: 12px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .plan-detail .label {
      color: #aaa;
      font-size: 0.9rem;
    }

    .plan-detail .value {
      font-weight: 600;
      font-size: 0.95rem;
    }

    .profit {
      color: var(--profit-green);
    }

    .invest-btn {
      width: 100%;
      padding: 12px;
      margin-top: 15px;
      border: none;
      border-radius: 5px;
      background-color: var(--primary);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .invest-btn:hover {
      background-color: #096dd9;
      transform: translateY(-2px);
    }

    /* VIP Section Styles */
    .vip-section {
      background: linear-gradient(135deg, rgba(255, 215, 145, 0.1), rgba(250, 140, 22, 0.1));
      border-left: 4px solid var(--warning);
    }

    .vip-card {
      background: #252545;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(250, 140, 22, 0.1);
      border: 1px solid rgba(250, 140, 22, 0.3);
    }

    .vip-card:last-child {
      margin-bottom: 0;
    }

    .vip-title {
      color: var(--warning);
      font-weight: 600;
      margin-bottom: 10px;
    }

    .highlight {
      font-weight: bold;
      color: var(--vip-gold);
    }

    .btn-vip {
      background-color: var(--warning);
    }

    .btn-vip:hover {
      background-color: #d46b08;
    }

    /* Responsive Styles */
    @media (max-width: 992px) {
      .plans-container {
        flex-direction: column;
      }
      
      .page-header h1 {
        font-size: 2rem;
      }
    }

    @media (max-width: 768px) {
      .header-container {
        flex-direction: column;
      }
      
      .nav-links {
        margin-top: 15px;
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .nav-links li {
        margin: 5px 10px;
      }
      
      .plan-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 576px) {
      .page-header h1 {
        font-size: 1.8rem;
      }
      
      .page-header p {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-container">
      <a href="index.html" class="logo">
        <i class="fas fa-chart-line"></i> SalticsX
      </a>
      <ul class="nav-links">
        <li><a href="index.html">Home</a></li>
        <li><a href="investment_plan.html" class="active">Investment Plans</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="login.html">Login</a></li>
        <li><a href="register.html" class="btn-register">Register</a></li>
      </ul>
    </div>
  </header>

  <!-- Main Content -->
  <div class="main-container">
    <div class="page-header">
      <h1>Investment Plans</h1>
      <p>Choose the perfect plan to grow your wealth with our secure and profitable investment options</p>
    </div>

    <img src="binance.jpeg" alt="Cryptocurrency Investment" class="hero-image">

    <div class="plans-container">
      <!-- Main Plans -->
      <div class="main-plans">
        <div class="card">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-coins"></i> BMF Investment Plans</h2>
            <span class="badge badge-primary">POPULAR</span>
          </div>
          <div class="plan-grid">
            <!-- BMF1 Plan -->
            <div class="plan-card">
              <div class="plan-name">BMF1</div>
              <img src="BMF1.jpeg" alt="BMF1 Plan" class="plan-image">
              <div class="plan-detail"><span class="label">Investment:</span><span class="value">$23.00</span></div>
              <div class="plan-detail"><span class="label">Total Return:</span><span class="value profit">$41.40</span></div>
              <div class="plan-detail"><span class="label">Duration:</span><span class="value">20 days</span></div>
              <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value profit">$2.07</span></div>
              <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">$2.76</span></div>
              <button class="invest-btn">Invest Now</button>
            </div>

            <!-- BMF2 Plan -->
            <div class="plan-card">
              <div class="plan-name">BMF2</div>
              <img src="BMF2.jpeg" alt="BMF2 Plan" class="plan-image">
              <div class="plan-detail"><span class="label">Investment:</span><span class="value">$108.00</span></div>
              <div class="plan-detail"><span class="label">Total Return:</span><span class="value profit">$194.40</span></div>
              <div class="plan-detail"><span class="label">Duration:</span><span class="value">30 days</span></div>
              <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value profit">$6.48</span></div>
              <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">$12.96</span></div>
              <button class="invest-btn">Invest Now</button>
            </div>

            <!-- BMF3 Plan -->
            <div class="plan-card">
              <div class="plan-name">BMF3</div>
              <img src="BMF3.jpeg" alt="BMF3 Plan" class="plan-image">
              <div class="plan-detail"><span class="label">Investment:</span><span class="value">$140.00</span></div>
              <div class="plan-detail"><span class="label">Total Return:</span><span class="value profit">$252.00</span></div>
              <div class="plan-detail"><span class="label">Duration:</span><span class="value">40 days</span></div>
              <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value profit">$6.30</span></div>
              <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">$16.96</span></div>
              <button class="invest-btn">Invest Now</button>
            </div>

            <!-- BMF4 Plan -->
            <div class="plan-card">
              <div class="plan-name">BMF4</div>
              <img src="BMF3.jpeg" alt="BMF4 Plan" class="plan-image">
              <div class="plan-detail"><span class="label">Investment:</span><span class="value">$428.00</span></div>
              <div class="plan-detail"><span class="label">Total Return:</span><span class="value profit">$770.40</span></div>
              <div class="plan-detail"><span class="label">Duration:</span><span class="value">45 days</span></div>
              <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value profit">$17.12</span></div>
              <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">$51.36</span></div>
              <button class="invest-btn">Invest Now</button>
            </div>
          </div>
        </div>
      </div>

      <!-- VIP Plans Sidebar -->
      <div class="sidebar">
        <div class="card vip-section">
          <div class="card-header">
            <h2 class="card-title"><i class="fas fa-crown"></i> VIP Plans</h2>
            <span class="badge badge-vip">EXCLUSIVE</span>
          </div>

          <!-- VIP1 Plan -->
          <div class="vip-card">
            <div class="card-header">
              <h3 class="vip-title">VIP1</h3>
              <div class="badge badge-vip">LIMITED</div>
            </div>
            <div class="plan-detail"><span class="label">Investment:</span><span class="value highlight">$30.00</span></div>
            <div class="plan-detail"><span class="label">Total Return:</span><span class="value highlight profit">$45.00</span></div>
            <div class="plan-detail"><span class="label">Duration:</span><span class="value">3 days</span></div>
            <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value highlight profit">$15.00</span></div>
            <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">Not available</span></div>
            <button class="invest-btn btn-vip">Join VIP</button>
          </div>

          <!-- VIP2 Plan -->
          <div class="vip-card">
            <div class="card-header">
              <h3 class="vip-title">VIP2</h3>
              <div class="badge badge-vip">PREMIUM</div>
            </div>
            <div class="plan-detail"><span class="label">Investment:</span><span class="value highlight">$50.00</span></div>
            <div class="plan-detail"><span class="label">Total Return:</span><span class="value highlight profit">$90.00</span></div>
            <div class="plan-detail"><span class="label">Duration:</span><span class="value">5 days</span></div>
            <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value highlight profit">$18.00</span></div>
            <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">Not available</span></div>
            <button class="invest-btn btn-vip">Join VIP</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  document.addEventListener('DOMContentLoaded', async function() {
    // Load investment plans from API
    try {
      const response = await fetch('http://localhost:5000/api/investments/plans');
      const plans = await response.json();
      
      if (!response.ok) {
        throw new Error('Failed to load investment plans');
      }
      
      // Render plans to the page
      renderPlans(plans);
      
      // Add event listeners to invest buttons
      document.querySelectorAll('.invest-btn').forEach(button => {
        button.addEventListener('click', async function() {
          const planCard = this.closest('.plan-card, .vip-card');
          const planName = planCard.querySelector('.plan-name, .card-title').textContent;
          const amount = prompt(`Enter amount to invest in ${planName}:`, '100');
          
          if (amount && !isNaN(amount) {
            try {
              const token = localStorage.getItem('authToken');
              if (!token) {
                window.location.href = 'login.html?redirect=investment_plan.html';
                return;
              }
              
              // Find the plan ID from the plans array
              const plan = plans.find(p => p.name === planName);
              if (!plan) {
                throw new Error('Plan not found');
              }
              
              const response = await fetch('http://localhost:5000/api/investments', {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                  'Authorization': `Bearer ${token}`
                },
                body: JSON.stringify({
                  planId: plan._id,
                  amount: parseFloat(amount)
                })
              });
              
              const data = await response.json();
              
              if (!response.ok) {
                throw new Error(data.message || 'Investment failed');
              }
              
              alert(`Successfully invested $${amount} in ${planName}!`);
              window.location.href = 'dashboard.html';
            } catch (error) {
              alert(error.message || 'Investment failed. Please try again.');
            }
          }
        });
      });
    } catch (error) {
      console.error('Error loading plans:', error);
      alert('Failed to load investment plans. Please try again later.');
    }
  });
  
  function renderPlans(plans) {
    // This is a simplified version - you would need to adapt it to your exact HTML structure
    const mainPlansContainer = document.querySelector('.plan-grid');
    const vipPlansContainer = document.querySelector('.vip-section');
    
    if (mainPlansContainer) {
      plans.filter(plan => !plan.isVIP).forEach(plan => {
        const planCard = document.createElement('div');
        planCard.className = 'plan-card';
        planCard.innerHTML = `
          <div class="plan-name">${plan.name}</div>
          <img src="${plan.name}.jpeg" alt="${plan.name} Plan" class="plan-image">
          <div class="plan-detail"><span class="label">Investment:</span><span class="value">$${plan.minAmount.toFixed(2)}</span></div>
          <div class="plan-detail"><span class="label">Total Return:</span><span class="value profit">$${(plan.minAmount * (1 + plan.totalProfit/100)).toFixed(2)}</span></div>
          <div class="plan-detail"><span class="label">Duration:</span><span class="value">${plan.duration} days</span></div>
          <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value profit">$${(plan.minAmount * plan.dailyProfit/100).toFixed(2)}</span></div>
          <div class="plan-detail"><span class="label">Referral Bonus:</span><span class="value">$${(plan.minAmount * plan.referralBonus/100).toFixed(2)}</span></div>
          <button class="invest-btn">Invest Now</button>
        `;
        mainPlansContainer.appendChild(planCard);
      });
    }
    
    if (vipPlansContainer) {
      plans.filter(plan => plan.isVIP).forEach(plan => {
        const vipCard = document.createElement('div');
        vipCard.className = 'vip-card';
        vipCard.innerHTML = `
          <div class="card-header">
            <h3 class="vip-title">${plan.name}</h3>
            <div class="badge badge-vip">VIP</div>
          </div>
          <div class="plan-detail"><span class="label">Investment:</span><span class="value highlight">$${plan.minAmount.toFixed(2)}</span></div>
          <div class="plan-detail"><span class="label">Total Return:</span><span class="value highlight profit">$${(plan.minAmount * (1 + plan.totalProfit/100)).toFixed(2)}</span></div>
          <div class="plan-detail"><span class="label">Duration:</span><span class="value">${plan.duration} days</span></div>
          <div class="plan-detail"><span class="label">Daily Profit:</span><span class="value highlight profit">$${(plan.minAmount * plan.dailyProfit/100).toFixed(2)}</span></div>
          <button class="invest-btn btn-vip">Join VIP</button>
        `;
        vipPlansContainer.appendChild(vipCard);
      });
    }
  }
</script>
</body>
</html>